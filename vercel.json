{
  "version": 2,
  "builds": [
    {
      "src": "user-frontend/package.json",
      "use": "@vercel/static-build",
      "config": {
        "distDir": "dist"
      }
    },
    {
      "src": "admin-dashboard/package.json", 
      "use": "@vercel/static-build",
      "config": {
        "distDir": "dist"
      }
    }
  ],
  "headers": [
    {
      "source": "/admin(.*)",
      "headers": [
        { "key": "X-Robots-Tag", "value": "noindex, nofollow" }
      ]
    },
    {
      "source": "/admin-login",
      "headers": [
        { "key": "X-Robots-Tag", "value": "noindex, nofollow" }
      ]
    }
  ],
  "rewrites": [
    {
      "source": "/sitemap.xml",
      "destination": "/user-frontend/sitemap.xml"
    },
    {
      "source": "/admin/assets/:path*",
      "destination": "/admin-dashboard/assets/:path*"
    },
    {
      "source": "/admin/IOS%20app%20menu-favicon-1024by1024-2.png",
      "destination": "/admin-dashboard/IOS%20app%20menu-favicon-1024by1024-2.png"
    },
    {
      "source": "/admin/favicon.ico",
      "destination": "/admin-dashboard/favicon.ico"
    },
    {
      "source": "/admin/robots.txt",
      "destination": "/admin-dashboard/robots.txt"
    },
    {
      "source": "/admin",
      "destination": "/admin-dashboard/admin.html"
    },
    {
      "source": "/admin/:path*",
      "destination": "/admin-dashboard/admin.html"
    },
    {
      "source": "/admin-login",
      "destination": "/admin-dashboard/admin.html"
    },
    {
      "source": "/:path*",
      "destination": "/index.html",
      "missing": [ { "type": "filesystem" } ]
    }
  ]
}